!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("inferno"),require("angular")):"function"==typeof define&&define.amd?define(["inferno","angular"],function(c,angular){return a.ngInferno=b(c,angular)}):a.ngInferno=b(a.Inferno,a.angular)}(this,function(Inferno,angular){"use strict";function a(a,b){if(angular.isFunction(a))return a;if(!a)throw new Error("InfernoComponent name attribute must be specified");var c;try{c=b.get(a)}catch(d){}if(!c)try{c=a.split(".").reduce(function(a,b){return a[b]},window)}catch(d){}if(!c)throw Error("Cannot find inferno component "+a);return c}function b(a,b){if(a.wrappedInApply)return a;var c=function(){var c=arguments,d=b.$root.$$phase;return"$apply"===d||"$digest"===d?a.apply(null,c):b.$apply(function(){return a.apply(null,c)})};return c.wrappedInApply=!0,c}function c(a,c,d){return Object.keys(a||{}).reduce(function(e,f){var g=a[f],h=(d||{})[f]||{};return e[f]=angular.isFunction(g)&&h.wrapApply!==!1?b(g,c):g,e},{})}function d(a,b,c,d){var e=angular.isFunction(b.$watchCollection),f=angular.isFunction(b.$watchGroup),g=[];c.forEach(function(c){var i=h(c),k=j(a,c);"collection"===k&&e?b.$watchCollection(i,d):"reference"===k&&f?g.push(i):b.$watch(i,d,"reference"!==k)}),g.length&&b.$watchGroup(g,d)}function e(a,b,c,d){c.$evalAsync(function(){Inferno.render(infernoCreateElement(a,b),d[0])})}function f(a){return Array.isArray(a)?a[0]:a}function g(a){return Array.isArray(a)?a[1]:{}}function h(a){return Array.isArray(a)?a[0]:a}function i(a,b){var c=Object.keys(a).filter(function(a){return a.toLowerCase()===b.toLowerCase()})[0];return a[c]}function j(a,b){var c=Array.isArray(b)&&angular.isObject(b[1])&&b[1].watchDepth;return c||a}var k=function(b){return{restrict:"E",replace:!0,link:function(f,g,h){var i=a(h.name,b),j=function(){var a=f.$eval(h.props),b=c(a,f);e(i,b,f,g)};h.props?d(h.watchDepth,f,[h.props],j):j(),f.$on("$destroy",function(){h.onScopeDestroy?f.$eval(h.onScopeDestroy,{unmountComponent:InfernoDOM.unmountComponentAtNode.bind(this,g[0])}):InfernoDOM.unmountComponentAtNode(g[0])})}}},l=function(b){return function(h,j,k,l){var m={restrict:"E",replace:!0,link:function(k,m,n){var o=a(h,b);j=j||Object.keys(o.propTypes||{});var p=function(){var a={},b={};j.forEach(function(c){var d=f(c);a[d]=k.$eval(i(n,d)),b[d]=g(c)}),a=c(a,k,b),a=angular.extend({},a,l),e(o,a,k,m)},q=j.map(function(a){return Array.isArray(a)?[n[f(a)],g(a)]:n[a]});d(n.watchDepth,k,q,p),p(),k.$on("$destroy",function(){n.onScopeDestroy?k.$eval(n.onScopeDestroy,{unmountComponent:InfernoDOM.unmountComponentAtNode.bind(this,m[0])}):InfernoDOM.unmountComponentAtNode(m[0])})}};return angular.extend(m,k)}};return angular.module("inferno",[]).directive("infernoComponent",["$injector",k]).factory("infernoDirective",["$injector",l])});